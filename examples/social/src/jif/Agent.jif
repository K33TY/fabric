/**
 * U = provider
 */
public class Agent[principal U, principal SN]
    where SN actsfor U {
  
  public int{SN<-} today() { return 11; }
  
  public void happyBirthday{bdayPerson<-bdayUser.friends}
      (final principal{SN<-} bdayPerson, User[bdayPerson, SN]{SN<-} bdayUser)
      where SN actsfor bdayPerson, SN actsfor bdayUser.friends {
    if (bdayUser.lbl <= new label {bdayPerson->bdayUser.friends;
                                   bdayPerson<-bdayUser.friends}) {
      if (bdayUser.birthday == today()) {
        bdayUser.wall = bdayUser.wall + "Happy birthday!\n";
      }
    }
  }
}