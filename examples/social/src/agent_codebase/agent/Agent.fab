package agent;
/**
 * {SN<-A} = provider
 */
import sn.User;

public class Agent[principal A, principal SN] implements sn.Agent[A,SN]
    where SN actsfor A, {*provider} actsfor A, {*provider} <= {SN<-A}, 
		{*sn.Agent.provider} <= {*provider} {
  public int{SN<-} today() { return 10; }

  public void happyBirthday{bdayPerson<-bdayUser.friends, A}
      (final principal{SN<-} bdayPerson, User[bdayPerson, SN]{SN<-} bdayUser)
      where SN actsfor bdayPerson, SN actsfor bdayUser.friends {
	  //TODO: comment this check : (I don't understand it)
      if (bdayUser.lbl <= new label {bdayPerson-> ; bdayPerson<-bdayUser.friends}) {
	  //Does the agent actfor a friend of the user?
      if (A actsfor bdayUser.friends) {
        if (bdayUser.birthday == today()) {
          bdayUser.wall = bdayUser.wall + "Happy birthday!\n";
        }
      }
    }
  }
}
