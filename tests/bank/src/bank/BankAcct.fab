package bank;

/**
 * An instance of BankAcct is owned by a BankPrincipal.
 * A BankAcct has a balance, which represents the money in the account
 * Methods are provided for the principal 
 **/
public class BankAcct [principal P] {
	private int{P:;P!:} balance = 500;

	public BankAcct () {
	}

	public int getBalance() where caller(P) {
		return balance;
	}
	
	public boolean{P:;P!:} debit{P:;P!:} (int{P:;P!:} amt) {
		boolean{P:;P!:} result = false;
		atomic {
			if(amt <= balance) {
				balance -= amt;
				result = true;
			}
		}
		return result;
	}
}
