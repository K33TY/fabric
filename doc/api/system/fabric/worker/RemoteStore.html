<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Sat Jun 22 02:27:50 EDT 2013 -->
<title>RemoteStore</title>
<meta name="date" content="2013-06-22">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RemoteStore";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../fabric/worker/Options.html" title="class in fabric.worker"><span class="strong">Prev Class</span></a></li>
<li><a href="../../fabric/worker/RemoteStore.SerializationProxy.html" title="class in fabric.worker"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?fabric/worker/RemoteStore.html" target="_top">Frames</a></li>
<li><a href="RemoteStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_fabric.net.RemoteNode">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fabric.worker</div>
<h2 title="Class RemoteStore" class="title">Class RemoteStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../fabric/net/RemoteNode.html" title="class in fabric.net">fabric.net.RemoteNode</a></li>
<li>
<ul class="inheritance">
<li>fabric.worker.RemoteStore</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a>, java.io.Serializable</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../fabric/store/InProcessStore.html" title="class in fabric.store">InProcessStore</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RemoteStore</span>
extends <a href="../../fabric/net/RemoteNode.html" title="class in fabric.net">RemoteNode</a>
implements <a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a>, java.io.Serializable</pre>
<div class="block">Encapsulates a Store. This class maintains two connections to the store (one
 with SSL, for worker requests; and one without, for dissemination requests)
 and manages all communication. Stores can only be obtained through the
 <code>Worker.getStore()</code> interface. For each remote store, there should
 be at most one <code>RemoteStore</code> object representing that store.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../serialized-form.html#fabric.worker.RemoteStore">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.SerializationProxy.html" title="class in fabric.worker">RemoteStore.SerializationProxy</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_fabric.net.RemoteNode">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;fabric.net.<a href="../../fabric/net/RemoteNode.html" title="class in fabric.net">RemoteNode</a></h3>
<code><a href="../../fabric/net/RemoteNode.html#name">name</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#RemoteStore(java.lang.String)">RemoteStore</a></strong>(java.lang.String&nbsp;name)</code>
<div class="block">Creates a store representing the store at the given host name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#RemoteStore(java.lang.String, java.security.PublicKey)">RemoteStore</a></strong>(java.lang.String&nbsp;name,
           java.security.PublicKey&nbsp;key)</code>
<div class="block">Creates a store representing the store at the given host name.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#abortTransaction(fabric.common.TransactionID)">abortTransaction</a></strong>(<a href="../../fabric/common/TransactionID.html" title="class in fabric.common">TransactionID</a>&nbsp;tid)</code>
<div class="block">Notifies the store that the transaction is being Aborted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#cache(fabric.lang.Object._Impl)">cache</a></strong>(<a href="../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;impl)</code>
<div class="block">Adds the given object to the cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../fabric/worker/ObjectCache.Entry.html" title="class in fabric.worker">ObjectCache.Entry</a></code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#cache(fabric.common.SerializedObject)">cache</a></strong>(<a href="../../fabric/common/SerializedObject.html" title="class in fabric.common">SerializedObject</a>&nbsp;obj)</code>
<div class="block">Adds the given object to the cache.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#checkForStaleObjects(fabric.common.util.LongKeyMap)">checkForStaleObjects</a></strong>(<a href="../../fabric/common/util/LongKeyMap.html" title="interface in fabric.common.util">LongKeyMap</a>&lt;java.lang.Integer&gt;&nbsp;reads)</code>
<div class="block">Determines whether the given set of objects are stale.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#clearCache()">clearCache</a></strong>()</code>
<div class="block">Clears the worker's cache for this store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#commitTransaction(long)">commitTransaction</a></strong>(long&nbsp;transactionID)</code>
<div class="block">Notifies the Store that the transaction should be committed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#createOnum()">createOnum</a></strong>()</code>
<div class="block">Obtains a new, unused object number from the Store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#evict(long)">evict</a></strong>(long&nbsp;onum)</code>
<div class="block">Evicts the object with the given onum from cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>NodePrincipal</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#getPrincipal()">getPrincipal</a></strong>()</code>
<div class="block">Returns the NodePrincipal associated with this store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.PublicKey</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#getPublicKey()">getPublicKey</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>Map</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#getRoot()">getRoot</a></strong>()</code>
<div class="block">Returns the root map of the Store</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;<a href="../../fabric/common/SerializedObject.html" title="class in fabric.common">SerializedObject</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#getStaleObjects(fabric.common.util.LongKeyMap)">getStaleObjects</a></strong>(<a href="../../fabric/common/util/LongKeyMap.html" title="interface in fabric.common.util">LongKeyMap</a>&lt;java.lang.Integer&gt;&nbsp;reads)</code>
<div class="block">Helper for checkForStaleObjects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#hashCode()">hashCode</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#isLocalStore()">isLocalStore</a></strong>()</code>
<div class="block">Determines whether this is the local store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.security.cert.X509Certificate[]</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#makeWorkerPrincipal(fabric.worker.Worker, java.security.PublicKey)">makeWorkerPrincipal</a></strong>(<a href="../../fabric/worker/Worker.html" title="class in fabric.worker">Worker</a>&nbsp;worker,
                   java.security.PublicKey&nbsp;workerKey)</code>
<div class="block">Returns a certificate chain for a new principal object for the given worker
 key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#prepareTransaction(long, long, java.util.Collection, fabric.common.util.LongKeyMap, java.util.Collection)">prepareTransaction</a></strong>(long&nbsp;tid,
                  long&nbsp;commitTime,
                  java.util.Collection&lt;<a href="../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&gt;&nbsp;toCreate,
                  <a href="../../fabric/common/util/LongKeyMap.html" title="interface in fabric.common.util">LongKeyMap</a>&lt;java.lang.Integer&gt;&nbsp;reads,
                  java.util.Collection&lt;<a href="../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&gt;&nbsp;writes)</code>
<div class="block">Sends a PREPARE message to the store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../fabric/dissemination/Glob.html" title="class in fabric.dissemination">Glob</a></code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#readEncryptedObjectFromStore(long)">readEncryptedObjectFromStore</a></strong>(long&nbsp;onum)</code>
<div class="block">Called by dissemination to fetch an encrypted object from the store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../fabric/worker/ObjectCache.Entry.html" title="class in fabric.worker">ObjectCache.Entry</a></code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#readFromCache(long)">readFromCache</a></strong>(long&nbsp;onum)</code>
<div class="block">Returns the cache entry for the given onum.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../fabric/worker/ObjectCache.Entry.html" title="class in fabric.worker">ObjectCache.Entry</a></code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#readObject(long)">readObject</a></strong>(long&nbsp;onum)</code>
<div class="block">Returns the cache entry for the given onum.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../fabric/common/ObjectGroup.html" title="class in fabric.common">ObjectGroup</a></code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#readObjectFromStore(long)">readObjectFromStore</a></strong>(long&nbsp;onum)</code>
<div class="block">Goes to the store to get object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../fabric/worker/ObjectCache.Entry.html" title="class in fabric.worker">ObjectCache.Entry</a></code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#readObjectNoDissem(long)">readObjectNoDissem</a></strong>(long&nbsp;onum)</code>
<div class="block">Returns the cache entry for the requested object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#readResolve()">readResolve</a></strong>()</code>
<div class="block">Looks up the actual Store object when this store is deserialized.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#reserve(int)">reserve</a></strong>(int&nbsp;num)</code>
<div class="block">Ensure that a given number of objects can be created without contacting the
 store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#updateCache(fabric.common.SerializedObject)">updateCache</a></strong>(<a href="../../fabric/common/SerializedObject.html" title="class in fabric.common">SerializedObject</a>&nbsp;update)</code>
<div class="block">Updates the worker's cache of objects that originate from this store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../fabric/worker/RemoteStore.html#writeReplace()">writeReplace</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_fabric.net.RemoteNode">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;fabric.net.<a href="../../fabric/net/RemoteNode.html" title="class in fabric.net">RemoteNode</a></h3>
<code><a href="../../fabric/net/RemoteNode.html#createAuthFactory(fabric.common.KeyMaterial...)">createAuthFactory</a>, <a href="../../fabric/net/RemoteNode.html#getSocket(fabric.common.net.SubSocketFactory)">getSocket</a>, <a href="../../fabric/net/RemoteNode.html#name()">name</a>, <a href="../../fabric/net/RemoteNode.html#recycle(fabric.common.net.SubSocketFactory, fabric.common.net.SubSocket)">recycle</a>, <a href="../../fabric/net/RemoteNode.html#send(fabric.common.net.SubSocketFactory, fabric.messages.Message)">send</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_fabric.worker.Store">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;fabric.worker.<a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></h3>
<code><a href="../../fabric/worker/Store.html#name()">name</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RemoteStore(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RemoteStore</h4>
<pre>protected&nbsp;RemoteStore(java.lang.String&nbsp;name)</pre>
<div class="block">Creates a store representing the store at the given host name.</div>
</li>
</ul>
<a name="RemoteStore(java.lang.String, java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RemoteStore</h4>
<pre>protected&nbsp;RemoteStore(java.lang.String&nbsp;name,
           java.security.PublicKey&nbsp;key)</pre>
<div class="block">Creates a store representing the store at the given host name.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createOnum()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOnum</h4>
<pre>public&nbsp;long&nbsp;createOnum()
                throws <a href="../../fabric/net/UnreachableNodeException.html" title="class in fabric.net">UnreachableNodeException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#createOnum()">Store</a></code></strong></div>
<div class="block">Obtains a new, unused object number from the Store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#createOnum()">createOnum</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../fabric/net/UnreachableNodeException.html" title="class in fabric.net">UnreachableNodeException</a></code></dd></dl>
</li>
</ul>
<a name="prepareTransaction(long, long, java.util.Collection, fabric.common.util.LongKeyMap, java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareTransaction</h4>
<pre>public&nbsp;boolean&nbsp;prepareTransaction(long&nbsp;tid,
                         long&nbsp;commitTime,
                         java.util.Collection&lt;<a href="../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&gt;&nbsp;toCreate,
                         <a href="../../fabric/common/util/LongKeyMap.html" title="interface in fabric.common.util">LongKeyMap</a>&lt;java.lang.Integer&gt;&nbsp;reads,
                         java.util.Collection&lt;<a href="../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&gt;&nbsp;writes)
                           throws <a href="../../fabric/worker/TransactionPrepareFailedException.html" title="class in fabric.worker">TransactionPrepareFailedException</a>,
                                  <a href="../../fabric/net/UnreachableNodeException.html" title="class in fabric.net">UnreachableNodeException</a></pre>
<div class="block">Sends a PREPARE message to the store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#prepareTransaction(long, long, java.util.Collection, fabric.common.util.LongKeyMap, java.util.Collection)">prepareTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>whether a subtransaction was created on the store as a result of
         the prepare.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../fabric/worker/TransactionPrepareFailedException.html" title="class in fabric.worker">TransactionPrepareFailedException</a></code></dd>
<dd><code><a href="../../fabric/net/UnreachableNodeException.html" title="class in fabric.net">UnreachableNodeException</a></code></dd></dl>
</li>
</ul>
<a name="readObject(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readObject</h4>
<pre>public final&nbsp;<a href="../../fabric/worker/ObjectCache.Entry.html" title="class in fabric.worker">ObjectCache.Entry</a>&nbsp;readObject(long&nbsp;onum)
                                   throws <a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#readObject(long)">Store</a></code></strong></div>
<div class="block">Returns the cache entry for the given onum. If the object is not resident,
 it is fetched from the store via dissemination.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#readObject(long)">readObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>onum</code> - The identifier of the requested object</dd>
<dt><span class="strong">Returns:</span></dt><dd>cache entry for the requested object.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></code></dd></dl>
</li>
</ul>
<a name="readObjectNoDissem(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readObjectNoDissem</h4>
<pre>public final&nbsp;<a href="../../fabric/worker/ObjectCache.Entry.html" title="class in fabric.worker">ObjectCache.Entry</a>&nbsp;readObjectNoDissem(long&nbsp;onum)
                                           throws <a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#readObjectNoDissem(long)">Store</a></code></strong></div>
<div class="block">Returns the cache entry for the requested object. If the object is not
 resident, it is fetched directly from the store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#readObjectNoDissem(long)">readObjectNoDissem</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>onum</code> - The identifier of the requested object</dd>
<dt><span class="strong">Returns:</span></dt><dd>the cache entry for the requested object.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></code></dd></dl>
</li>
</ul>
<a name="readFromCache(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFromCache</h4>
<pre>public&nbsp;<a href="../../fabric/worker/ObjectCache.Entry.html" title="class in fabric.worker">ObjectCache.Entry</a>&nbsp;readFromCache(long&nbsp;onum)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#readFromCache(long)">Store</a></code></strong></div>
<div class="block">Returns the cache entry for the given onum.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#readFromCache(long)">readFromCache</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>onum</code> - The identifier of the requested object.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The entry if it exists in the object cache; otherwise, null.</dd></dl>
</li>
</ul>
<a name="readObjectFromStore(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readObjectFromStore</h4>
<pre>public&nbsp;<a href="../../fabric/common/ObjectGroup.html" title="class in fabric.common">ObjectGroup</a>&nbsp;readObjectFromStore(long&nbsp;onum)
                                throws <a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></pre>
<div class="block">Goes to the store to get object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>onum</code> - The object number to fetch</dd>
<dt><span class="strong">Returns:</span></dt><dd>An ObjectGroup whose head object is the requested object.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>FetchException</code> - if there was an error while fetching the object from the store.</dd>
<dd><code><a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></code></dd></dl>
</li>
</ul>
<a name="readEncryptedObjectFromStore(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readEncryptedObjectFromStore</h4>
<pre>public final&nbsp;<a href="../../fabric/dissemination/Glob.html" title="class in fabric.dissemination">Glob</a>&nbsp;readEncryptedObjectFromStore(long&nbsp;onum)
                                        throws <a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></pre>
<div class="block">Called by dissemination to fetch an encrypted object from the store.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>onum</code> - The object number to fetch.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></code></dd></dl>
</li>
</ul>
<a name="readResolve()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readResolve</h4>
<pre>public&nbsp;java.lang.Object&nbsp;readResolve()</pre>
<div class="block">Looks up the actual Store object when this store is deserialized. While
 this method is not explicitly called in the code, it is used by the Java
 serialization framework when deserializing a Store object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The canonical Store object corresponding to this Store's onum</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.ObjectStreamException</code></dd></dl>
</li>
</ul>
<a name="reserve(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserve</h4>
<pre>protected&nbsp;void&nbsp;reserve(int&nbsp;num)
                throws <a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a>,
                       <a href="../../fabric/net/UnreachableNodeException.html" title="class in fabric.net">UnreachableNodeException</a></pre>
<div class="block">Ensure that a given number of objects can be created without contacting the
 store.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>num</code> - The number of objects to allocate</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></code></dd>
<dd><code><a href="../../fabric/net/UnreachableNodeException.html" title="class in fabric.net">UnreachableNodeException</a></code></dd></dl>
</li>
</ul>
<a name="abortTransaction(fabric.common.TransactionID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortTransaction</h4>
<pre>public&nbsp;void&nbsp;abortTransaction(<a href="../../fabric/common/TransactionID.html" title="class in fabric.common">TransactionID</a>&nbsp;tid)
                      throws <a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#abortTransaction(fabric.common.TransactionID)">Store</a></code></strong></div>
<div class="block">Notifies the store that the transaction is being Aborted.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#abortTransaction(fabric.common.TransactionID)">abortTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tid</code> - the ID of the aborting transaction. This is assumed to specify a
          top-level transaction.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</a></code></dd></dl>
</li>
</ul>
<a name="commitTransaction(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransaction</h4>
<pre>public&nbsp;void&nbsp;commitTransaction(long&nbsp;transactionID)
                       throws <a href="../../fabric/net/UnreachableNodeException.html" title="class in fabric.net">UnreachableNodeException</a>,
                              <a href="../../fabric/worker/TransactionCommitFailedException.html" title="class in fabric.worker">TransactionCommitFailedException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#commitTransaction(long)">Store</a></code></strong></div>
<div class="block">Notifies the Store that the transaction should be committed.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#commitTransaction(long)">commitTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transactionID</code> - the ID of the transaction to commit</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../fabric/net/UnreachableNodeException.html" title="class in fabric.net">UnreachableNodeException</a></code></dd>
<dd><code><a href="../../fabric/worker/TransactionCommitFailedException.html" title="class in fabric.worker">TransactionCommitFailedException</a></code></dd></dl>
</li>
</ul>
<a name="checkForStaleObjects(fabric.common.util.LongKeyMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkForStaleObjects</h4>
<pre>public&nbsp;boolean&nbsp;checkForStaleObjects(<a href="../../fabric/common/util/LongKeyMap.html" title="interface in fabric.common.util">LongKeyMap</a>&lt;java.lang.Integer&gt;&nbsp;reads)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#checkForStaleObjects(fabric.common.util.LongKeyMap)">Store</a></code></strong></div>
<div class="block">Determines whether the given set of objects are stale.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#checkForStaleObjects(fabric.common.util.LongKeyMap)">checkForStaleObjects</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true iff stale objects were found.</dd></dl>
</li>
</ul>
<a name="getStaleObjects(fabric.common.util.LongKeyMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStaleObjects</h4>
<pre>protected&nbsp;java.util.List&lt;<a href="../../fabric/common/SerializedObject.html" title="class in fabric.common">SerializedObject</a>&gt;&nbsp;getStaleObjects(<a href="../../fabric/common/util/LongKeyMap.html" title="interface in fabric.common.util">LongKeyMap</a>&lt;java.lang.Integer&gt;&nbsp;reads)</pre>
<div class="block">Helper for checkForStaleObjects.</div>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="getRoot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoot</h4>
<pre>public&nbsp;Map&nbsp;getRoot()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#getRoot()">Store</a></code></strong></div>
<div class="block">Returns the root map of the Store</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#getRoot()">getRoot</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
</dl>
</li>
</ul>
<a name="getPrincipal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrincipal</h4>
<pre>public&nbsp;NodePrincipal&nbsp;getPrincipal()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#getPrincipal()">Store</a></code></strong></div>
<div class="block">Returns the NodePrincipal associated with this store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#getPrincipal()">getPrincipal</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
</dl>
</li>
</ul>
<a name="isLocalStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocalStore</h4>
<pre>public final&nbsp;boolean&nbsp;isLocalStore()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#isLocalStore()">Store</a></code></strong></div>
<div class="block">Determines whether this is the local store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#isLocalStore()">isLocalStore</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
</dl>
</li>
</ul>
<a name="hashCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>hashCode</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="evict(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evict</h4>
<pre>public&nbsp;boolean&nbsp;evict(long&nbsp;onum)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#evict(long)">Store</a></code></strong></div>
<div class="block">Evicts the object with the given onum from cache.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#evict(long)">evict</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true iff the onum was found in cache.</dd></dl>
</li>
</ul>
<a name="updateCache(fabric.common.SerializedObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCache</h4>
<pre>public&nbsp;boolean&nbsp;updateCache(<a href="../../fabric/common/SerializedObject.html" title="class in fabric.common">SerializedObject</a>&nbsp;update)</pre>
<div class="block">Updates the worker's cache of objects that originate from this store. If an
 object with the given onum exists in cache, it is evicted and replaced with
 the given serialized object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true iff an object with the given onum was evicted from cache.</dd></dl>
</li>
</ul>
<a name="cache(fabric.lang.Object._Impl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cache</h4>
<pre>public&nbsp;void&nbsp;cache(<a href="../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;impl)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#cache(fabric.lang.Object._Impl)">Store</a></code></strong></div>
<div class="block">Adds the given object to the cache.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#cache(fabric.lang.Object._Impl)">cache</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
</dl>
</li>
</ul>
<a name="cache(fabric.common.SerializedObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cache</h4>
<pre>public&nbsp;<a href="../../fabric/worker/ObjectCache.Entry.html" title="class in fabric.worker">ObjectCache.Entry</a>&nbsp;cache(<a href="../../fabric/common/SerializedObject.html" title="class in fabric.common">SerializedObject</a>&nbsp;obj)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../fabric/worker/Store.html#cache(fabric.common.SerializedObject)">Store</a></code></strong></div>
<div class="block">Adds the given object to the cache.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../fabric/worker/Store.html#cache(fabric.common.SerializedObject)">cache</a></code>&nbsp;in interface&nbsp;<code><a href="../../fabric/worker/Store.html" title="interface in fabric.worker">Store</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the resulting cache entry.</dd></dl>
</li>
</ul>
<a name="getPublicKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPublicKey</h4>
<pre>public&nbsp;java.security.PublicKey&nbsp;getPublicKey()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The store's public key for verifying Glob signatures.</dd></dl>
</li>
</ul>
<a name="clearCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearCache</h4>
<pre>public&nbsp;void&nbsp;clearCache()</pre>
<div class="block">Clears the worker's cache for this store. To be used for (performance)
 testing only.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../fabric/worker/Worker.html#clearCache()"><code>Worker.clearCache()</code></a></dd></dl>
</li>
</ul>
<a name="makeWorkerPrincipal(fabric.worker.Worker, java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeWorkerPrincipal</h4>
<pre>public&nbsp;java.security.cert.X509Certificate[]&nbsp;makeWorkerPrincipal(<a href="../../fabric/worker/Worker.html" title="class in fabric.worker">Worker</a>&nbsp;worker,
                                                       java.security.PublicKey&nbsp;workerKey)</pre>
<div class="block">Returns a certificate chain for a new principal object for the given worker
 key. This certificate chain is not guaranteed to end in a trusted root.</div>
</li>
</ul>
<a name="writeReplace()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeReplace</h4>
<pre>public&nbsp;java.lang.Object&nbsp;writeReplace()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../fabric/worker/Options.html" title="class in fabric.worker"><span class="strong">Prev Class</span></a></li>
<li><a href="../../fabric/worker/RemoteStore.SerializationProxy.html" title="class in fabric.worker"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?fabric/worker/RemoteStore.html" target="_top">Frames</a></li>
<li><a href="RemoteStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_fabric.net.RemoteNode">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
