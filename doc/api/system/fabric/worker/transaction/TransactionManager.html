<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_07) on Wed Oct 24 18:42:36 EDT 2012 -->
<title>TransactionManager</title>
<meta name="date" content="2012-10-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TransactionManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../fabric/worker/transaction/TakeOwnershipFailedException.html" title="class in fabric.worker.transaction"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../fabric/worker/transaction/TransactionRegistry.html" title="class in fabric.worker.transaction"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?fabric/worker/transaction/TransactionManager.html" target="_top">Frames</a></li>
<li><a href="TransactionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fabric.worker.transaction</div>
<h2 title="Class TransactionManager" class="title">Class TransactionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>fabric.worker.transaction.TransactionManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">TransactionManager</span>
extends java.lang.Object</pre>
<div class="block">Holds transaction management information for a single thread. Each thread has
 its own TransactionManager.
 <p>
 We say that a transaction has acquired a write lock on an object if any entry
 in the object's <code>$history</code> list has <code>$writeLockHolder</code>
 set to that transaction. @see fabric.lang.Object._Impl
 </p>
 <p>
 We say that a transaction has acquired a read lock if it is in the
 "read list" for that object. @see fabric.lang.Object._Impl.$readMapEntry
 </p>
 <p>
 When a transaction acquires a read lock, we ensure that the <i>read
 condition</i> holds: that the holder of the write lock is an ancestor of that
 transaction. Before reading an object, we ensure that the transaction holds a
 read lock and that the read condition still holds.
 </p>
 <p>
 When a transaction acquires a write lock, we ensure that the <i>write
 condition</i> holds: the holders of the read and write locks are all
 ancestors of that transaction. Before writing an object, we ensure that the
 transaction holds a write lock and that the write condition still holds.
 </p>
 <p>
 Assumptions:
 <ul>
 <li>Once the top-level transaction within a thread aborts or commits, that
 thread will terminate without performing further operations on the
 transaction manager.</li>
 <li>The fetch operation will not be invoked concurrently on the same object.</li>
 </ul>
 </p>
 <p>
 The following objects are used as condition variables:
 <ul>
 <li>Log.children - for signalling that all sub-transactions of a given
 transaction have finished.</li>
 <li>Impl objects - for signalling to readers and writers that a read or write
 lock on that object has been released.
 </ul>
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#TRACE_WRITE_LOCKS">TRACE_WRITE_LOCKS</a></strong></code>
<div class="block">A debugging switch for storing a stack trace each time a write lock is
 obtained.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#abortTransaction()">abortTransaction</a></strong>()</code>
<div class="block">Aborts the transaction, recursing to any workers that were called, and any
 stores that were contacted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#associateAndSyncLog(fabric.worker.transaction.Log, fabric.common.TransactionID)">associateAndSyncLog</a></strong>(<a href="../../../fabric/worker/transaction/Log.html" title="class in fabric.worker.transaction">Log</a>&nbsp;log,
                   <a href="../../../fabric/common/TransactionID.html" title="class in fabric.common">TransactionID</a>&nbsp;tid)</code>
<div class="block">Associates the given log with this worker's transaction manager and
 synchronizes the log with the given tid.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#associateLog(fabric.worker.transaction.Log)">associateLog</a></strong>(<a href="../../../fabric/worker/transaction/Log.html" title="class in fabric.worker.transaction">Log</a>&nbsp;log)</code>
<div class="block">Associates the given transaction log with this transaction manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#checkForStaleObjects()">checkForStaleObjects</a></strong>()</code>
<div class="block">Checks whether any of the objects used by a transaction are stale.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#commitTransaction()">commitTransaction</a></strong>()</code>
<div class="block">Commits the transaction if possible; otherwise, aborts the transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#commitTransactionAt(long)">commitTransactionAt</a></strong>(long&nbsp;commitTime)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#commitTransactionAt(long, boolean)">commitTransactionAt</a></strong>(long&nbsp;commitTime,
                   boolean&nbsp;ignoreRetrySignal)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#deregisterThread(java.lang.Thread)">deregisterThread</a></strong>(java.lang.Thread&nbsp;thread)</code>
<div class="block">Registers that the given thread has finished.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../fabric/worker/transaction/Log.html" title="class in fabric.worker.transaction">Log</a></code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#getCurrentLog()">getCurrentLog</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../fabric/common/TransactionID.html" title="class in fabric.common">TransactionID</a></code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#getCurrentTid()">getCurrentTid</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../fabric/worker/remote/RemoteWorker.html" title="class in fabric.worker.remote">RemoteWorker</a></code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#getFetchWorker(fabric.lang.Object._Proxy)">getFetchWorker</a></strong>(<a href="../../../fabric/lang/Object._Proxy.html" title="class in fabric.lang">Object._Proxy</a>&nbsp;proxy)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../fabric/worker/transaction/TransactionManager.html" title="class in fabric.worker.transaction">TransactionManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#getInstance()">getInstance</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../fabric/worker/transaction/ReadMapEntry.html" title="class in fabric.worker.transaction">ReadMapEntry</a></code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#getReadMapEntry(fabric.lang.Object._Impl, long)">getReadMapEntry</a></strong>(<a href="../../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;impl,
               long&nbsp;expiry)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../fabric/lang/security/SecurityCache.html" title="class in fabric.lang.security">SecurityCache</a></code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#getSecurityCache()">getSecurityCache</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../fabric/worker/remote/WriterMap.html" title="class in fabric.worker.remote">WriterMap</a></code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#getWriterMap()">getWriterMap</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#registerCreate(fabric.lang.Object._Impl)">registerCreate</a></strong>(<a href="../../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;obj)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#registerRead(fabric.lang.Object._Impl)">registerRead</a></strong>(<a href="../../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;obj)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#registerRemoteCall(fabric.worker.remote.RemoteWorker)">registerRemoteCall</a></strong>(<a href="../../../fabric/worker/remote/RemoteWorker.html" title="class in fabric.worker.remote">RemoteWorker</a>&nbsp;worker)</code>
<div class="block">Registers a remote call to the given worker.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#registerThread(java.lang.Thread)">registerThread</a></strong>(java.lang.Thread&nbsp;thread)</code>
<div class="block">Registers the given thread with the current transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#registerWrite(fabric.lang.Object._Impl)">registerWrite</a></strong>(<a href="../../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;obj)</code>
<div class="block">This should be called <i>before</i> the object is modified.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#sendCommitMessagesAndCleanUp()">sendCommitMessagesAndCleanUp</a></strong>()</code>
<div class="block">Sends commit messages to the cohorts.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#sendPrepareMessages(long)">sendPrepareMessages</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Sends prepare messages to the cohorts.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#startThread(java.lang.Thread)">startThread</a></strong>(java.lang.Thread&nbsp;thread)</code>
<div class="block">Starts the given thread, registering it as necessary.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#startTransaction()">startTransaction</a></strong>()</code>
<div class="block">Starts a new transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../fabric/worker/transaction/TransactionManager.html#startTransaction(fabric.common.TransactionID)">startTransaction</a></strong>(<a href="../../../fabric/common/TransactionID.html" title="class in fabric.common">TransactionID</a>&nbsp;tid)</code>
<div class="block">Starts a new transaction with the given tid.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TRACE_WRITE_LOCKS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TRACE_WRITE_LOCKS</h4>
<pre>public static&nbsp;boolean TRACE_WRITE_LOCKS</pre>
<div class="block">A debugging switch for storing a stack trace each time a write lock is
 obtained. Enable this by passing "--trace-locks" as a command-line argument
 to the node.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getReadMapEntry(fabric.lang.Object._Impl, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadMapEntry</h4>
<pre>public static&nbsp;<a href="../../../fabric/worker/transaction/ReadMapEntry.html" title="class in fabric.worker.transaction">ReadMapEntry</a>&nbsp;getReadMapEntry(<a href="../../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;impl,
                           long&nbsp;expiry)</pre>
</li>
</ul>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../fabric/worker/transaction/TransactionManager.html" title="class in fabric.worker.transaction">TransactionManager</a>&nbsp;getInstance()</pre>
</li>
</ul>
<a name="abortTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortTransaction</h4>
<pre>public&nbsp;void&nbsp;abortTransaction()</pre>
<div class="block">Aborts the transaction, recursing to any workers that were called, and any
 stores that were contacted.</div>
</li>
</ul>
<a name="commitTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransaction</h4>
<pre>public&nbsp;void&nbsp;commitTransaction()
                       throws <a href="../../../fabric/worker/AbortException.html" title="class in fabric.worker">AbortException</a>,
                              <a href="../../../fabric/worker/TransactionRestartingException.html" title="class in fabric.worker">TransactionRestartingException</a>,
                              <a href="../../../fabric/worker/TransactionAtomicityViolationException.html" title="class in fabric.worker">TransactionAtomicityViolationException</a></pre>
<div class="block">Commits the transaction if possible; otherwise, aborts the transaction.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../fabric/worker/AbortException.html" title="class in fabric.worker">AbortException</a></code> - if the transaction was aborted.</dd>
<dd><code><a href="../../../fabric/worker/TransactionRestartingException.html" title="class in fabric.worker">TransactionRestartingException</a></code> - if the transaction was aborted and needs to be retried.</dd>
<dd><code><a href="../../../fabric/worker/TransactionAtomicityViolationException.html" title="class in fabric.worker">TransactionAtomicityViolationException</a></code></dd></dl>
</li>
</ul>
<a name="commitTransactionAt(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransactionAt</h4>
<pre>public&nbsp;void&nbsp;commitTransactionAt(long&nbsp;commitTime)</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../fabric/worker/TransactionRestartingException.html" title="class in fabric.worker">TransactionRestartingException</a></code> - if the prepare fails.</dd></dl>
</li>
</ul>
<a name="commitTransactionAt(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransactionAt</h4>
<pre>public&nbsp;void&nbsp;commitTransactionAt(long&nbsp;commitTime,
                       boolean&nbsp;ignoreRetrySignal)</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../fabric/worker/TransactionRestartingException.html" title="class in fabric.worker">TransactionRestartingException</a></code> - if the prepare fails.</dd></dl>
</li>
</ul>
<a name="sendPrepareMessages(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPrepareMessages</h4>
<pre>public&nbsp;void&nbsp;sendPrepareMessages(long&nbsp;commitTime)</pre>
<div class="block">Sends prepare messages to the cohorts. Also sends abort messages if any
 cohort fails to prepare.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../fabric/worker/TransactionRestartingException.html" title="class in fabric.worker">TransactionRestartingException</a></code> - if the prepare fails.</dd></dl>
</li>
</ul>
<a name="sendCommitMessagesAndCleanUp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendCommitMessagesAndCleanUp</h4>
<pre>public&nbsp;void&nbsp;sendCommitMessagesAndCleanUp()
                                  throws <a href="../../../fabric/worker/TransactionAtomicityViolationException.html" title="class in fabric.worker">TransactionAtomicityViolationException</a></pre>
<div class="block">Sends commit messages to the cohorts.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../fabric/worker/TransactionAtomicityViolationException.html" title="class in fabric.worker">TransactionAtomicityViolationException</a></code></dd></dl>
</li>
</ul>
<a name="registerCreate(fabric.lang.Object._Impl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerCreate</h4>
<pre>public&nbsp;void&nbsp;registerCreate(<a href="../../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;obj)</pre>
</li>
</ul>
<a name="registerRead(fabric.lang.Object._Impl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerRead</h4>
<pre>public&nbsp;void&nbsp;registerRead(<a href="../../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;obj)</pre>
</li>
</ul>
<a name="registerWrite(fabric.lang.Object._Impl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerWrite</h4>
<pre>public&nbsp;boolean&nbsp;registerWrite(<a href="../../../fabric/lang/Object._Impl.html" title="class in fabric.lang">Object._Impl</a>&nbsp;obj)</pre>
<div class="block">This should be called <i>before</i> the object is modified.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>whether a new (top-level) transaction was created.</dd></dl>
</li>
</ul>
<a name="checkForStaleObjects()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkForStaleObjects</h4>
<pre>public&nbsp;boolean&nbsp;checkForStaleObjects()</pre>
<div class="block">Checks whether any of the objects used by a transaction are stale.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true iff stale objects were found</dd></dl>
</li>
</ul>
<a name="startTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTransaction</h4>
<pre>public&nbsp;void&nbsp;startTransaction()</pre>
<div class="block">Starts a new transaction. The sub-transaction runs in the same thread as
 the caller.</div>
</li>
</ul>
<a name="startTransaction(fabric.common.TransactionID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTransaction</h4>
<pre>public&nbsp;void&nbsp;startTransaction(<a href="../../../fabric/common/TransactionID.html" title="class in fabric.common">TransactionID</a>&nbsp;tid)</pre>
<div class="block">Starts a new transaction with the given tid. The given tid is assumed to be
 a valid descendant of the current tid. If the given tid is null, a random
 tid is generated for the sub-transaction.</div>
</li>
</ul>
<a name="startThread(java.lang.Thread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startThread</h4>
<pre>public static&nbsp;void&nbsp;startThread(java.lang.Thread&nbsp;thread)</pre>
<div class="block">Starts the given thread, registering it as necessary.</div>
</li>
</ul>
<a name="registerThread(java.lang.Thread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerThread</h4>
<pre>public&nbsp;void&nbsp;registerThread(java.lang.Thread&nbsp;thread)</pre>
<div class="block">Registers the given thread with the current transaction. This should be
 called before the thread is started.</div>
</li>
</ul>
<a name="deregisterThread(java.lang.Thread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deregisterThread</h4>
<pre>public&nbsp;void&nbsp;deregisterThread(java.lang.Thread&nbsp;thread)</pre>
<div class="block">Registers that the given thread has finished.</div>
</li>
</ul>
<a name="registerRemoteCall(fabric.worker.remote.RemoteWorker)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerRemoteCall</h4>
<pre>public&nbsp;void&nbsp;registerRemoteCall(<a href="../../../fabric/worker/remote/RemoteWorker.html" title="class in fabric.worker.remote">RemoteWorker</a>&nbsp;worker)</pre>
<div class="block">Registers a remote call to the given worker.</div>
</li>
</ul>
<a name="associateLog(fabric.worker.transaction.Log)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>associateLog</h4>
<pre>public&nbsp;void&nbsp;associateLog(<a href="../../../fabric/worker/transaction/Log.html" title="class in fabric.worker.transaction">Log</a>&nbsp;log)</pre>
<div class="block">Associates the given transaction log with this transaction manager.</div>
</li>
</ul>
<a name="getCurrentLog()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentLog</h4>
<pre>public&nbsp;<a href="../../../fabric/worker/transaction/Log.html" title="class in fabric.worker.transaction">Log</a>&nbsp;getCurrentLog()</pre>
</li>
</ul>
<a name="getCurrentTid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTid</h4>
<pre>public&nbsp;<a href="../../../fabric/common/TransactionID.html" title="class in fabric.common">TransactionID</a>&nbsp;getCurrentTid()</pre>
</li>
</ul>
<a name="getWriterMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriterMap</h4>
<pre>public&nbsp;<a href="../../../fabric/worker/remote/WriterMap.html" title="class in fabric.worker.remote">WriterMap</a>&nbsp;getWriterMap()</pre>
</li>
</ul>
<a name="getFetchWorker(fabric.lang.Object._Proxy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFetchWorker</h4>
<pre>public&nbsp;<a href="../../../fabric/worker/remote/RemoteWorker.html" title="class in fabric.worker.remote">RemoteWorker</a>&nbsp;getFetchWorker(<a href="../../../fabric/lang/Object._Proxy.html" title="class in fabric.lang">Object._Proxy</a>&nbsp;proxy)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the worker on which the object resides. An object resides on a
         worker if it is either on that worker's local store, or if it was
         created by the current transaction and is owned by that worker.</dd></dl>
</li>
</ul>
<a name="getSecurityCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSecurityCache</h4>
<pre>public&nbsp;<a href="../../../fabric/lang/security/SecurityCache.html" title="class in fabric.lang.security">SecurityCache</a>&nbsp;getSecurityCache()</pre>
</li>
</ul>
<a name="associateAndSyncLog(fabric.worker.transaction.Log, fabric.common.TransactionID)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>associateAndSyncLog</h4>
<pre>public&nbsp;void&nbsp;associateAndSyncLog(<a href="../../../fabric/worker/transaction/Log.html" title="class in fabric.worker.transaction">Log</a>&nbsp;log,
                       <a href="../../../fabric/common/TransactionID.html" title="class in fabric.common">TransactionID</a>&nbsp;tid)</pre>
<div class="block">Associates the given log with this worker's transaction manager and
 synchronizes the log with the given tid.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../fabric/worker/transaction/TakeOwnershipFailedException.html" title="class in fabric.worker.transaction"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../fabric/worker/transaction/TransactionRegistry.html" title="class in fabric.worker.transaction"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?fabric/worker/transaction/TransactionManager.html" target="_top">Frames</a></li>
<li><a href="TransactionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
