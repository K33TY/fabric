<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_21) on Mon Aug 30 19:14:44 EDT 2010 -->
<TITLE>
BdbDB
</TITLE>

<META NAME="date" CONTENT="2010-08-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BdbDB";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../fabric/store/db/GroupContainer.html" title="class in fabric.store.db"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?fabric/store/db/BdbDB.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BdbDB.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_fabric.store.db.ObjectDB">NESTED</A>&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_fabric.store.db.ObjectDB">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
fabric.store.db</FONT>
<BR>
Class BdbDB</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">fabric.store.db.ObjectDB</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>fabric.store.db.BdbDB</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>BdbDB</B><DT>extends <A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></DL>
</PRE>

<P>
An ObjectDB backed by a Berkeley Database.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_fabric.store.db.ObjectDB"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class fabric.store.db.<A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../fabric/store/db/ObjectDB.PendingTransaction.html" title="class in fabric.store.db">ObjectDB.PendingTransaction</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_fabric.store.db.ObjectDB"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class fabric.store.db.<A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#name">name</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#pendingByTid">pendingByTid</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#rwLocks">rwLocks</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#BdbDB(java.lang.String)">BdbDB</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new BdbStore for the store specified.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean up and close database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#commit(long, fabric.worker.remote.RemoteWorker, NodePrincipal, fabric.store.SubscriptionManager)">commit</A></B>(long&nbsp;tid,
       <A HREF="../../../fabric/worker/remote/RemoteWorker.html" title="class in fabric.worker.remote">RemoteWorker</A>&nbsp;workerNode,
       NodePrincipal&nbsp;workerPrincipal,
       <A HREF="../../../fabric/store/SubscriptionManager.html" title="class in fabric.store">SubscriptionManager</A>&nbsp;sm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cause the objects prepared in transaction [tid] to be committed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#exists(long)">exists</A></B>(long&nbsp;onum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks whether an object with the corresponding onum exists, in either
 prepared or committed form.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#finishPrepare(long, NodePrincipal)">finishPrepare</A></B>(long&nbsp;tid,
              NodePrincipal&nbsp;worker)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Notifies the database that the given transaction is finished preparing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#getVersion(long)">getVersion</A></B>(long&nbsp;onum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the version number on the object stored at a particular onum.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#isInitialized()">isInitialized</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether the object database has been initialized.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#newOnums(int)">newOnums</A></B>(int&nbsp;num)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Return a set of onums that aren't currently occupied.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../fabric/common/SerializedObject.html" title="class in fabric.common">SerializedObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#read(long)">read</A></B>(long&nbsp;onum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the object stored at a particular onum.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#rollback(long, NodePrincipal)">rollback</A></B>(long&nbsp;tid,
         NodePrincipal&nbsp;worker)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cause the objects prepared in transaction [tid] to be discarded.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../fabric/store/db/BdbDB.html#setInitialized()">setInitialized</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a flag to indicate that the object database has been initialized.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_fabric.store.db.ObjectDB"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class fabric.store.db.<A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#abortPrepare(long, NodePrincipal)">abortPrepare</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#beginTransaction(long, NodePrincipal)">beginTransaction</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#cacheGroupContainer(fabric.common.util.LongSet, fabric.store.db.GroupContainer)">cacheGroupContainer</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#ensureInit()">ensureInit</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#getCachedGroupContainer(long)">getCachedGroupContainer</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#getName()">getName</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#isPrepared(long, long)">isPrepared</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#isWritten(long)">isWritten</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#notifyCommittedUpdate(fabric.store.SubscriptionManager, long, fabric.worker.remote.RemoteWorker)">notifyCommittedUpdate</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#registerRead(long, NodePrincipal, long)">registerRead</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#registerUpdate(long, NodePrincipal, fabric.common.SerializedObject)">registerUpdate</A>, <A HREF="../../../fabric/store/db/ObjectDB.html#unpin(fabric.store.db.ObjectDB.PendingTransaction)">unpin</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BdbDB(java.lang.String)"><!-- --></A><H3>
BdbDB</H3>
<PRE>
public <B>BdbDB</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Creates a new BdbStore for the store specified. A new database will be
 created if it does not exist.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - name of store to create store for.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="finishPrepare(long, NodePrincipal)"><!-- --></A><H3>
finishPrepare</H3>
<PRE>
public void <B>finishPrepare</B>(long&nbsp;tid,
                          NodePrincipal&nbsp;worker)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#finishPrepare(long, NodePrincipal)">ObjectDB</A></CODE></B></DD>
<DD><p>
 Notifies the database that the given transaction is finished preparing. The
 transaction is not considered to be prepared until this is called. After
 calling this method, there should not be any further calls to
 registerRead() or registerUpdate() for the given transaction. This method
 MUST be called before calling commit().
 </p>
 <p>
 Upon receiving this call, the object database should save the prepared
 transaction to stable storage so that it can be recovered in case of
 failure.
 </p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#finishPrepare(long, NodePrincipal)">finishPrepare</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit(long, fabric.worker.remote.RemoteWorker, NodePrincipal, fabric.store.SubscriptionManager)"><!-- --></A><H3>
commit</H3>
<PRE>
public void <B>commit</B>(long&nbsp;tid,
                   <A HREF="../../../fabric/worker/remote/RemoteWorker.html" title="class in fabric.worker.remote">RemoteWorker</A>&nbsp;workerNode,
                   NodePrincipal&nbsp;workerPrincipal,
                   <A HREF="../../../fabric/store/SubscriptionManager.html" title="class in fabric.store">SubscriptionManager</A>&nbsp;sm)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#commit(long, fabric.worker.remote.RemoteWorker, NodePrincipal, fabric.store.SubscriptionManager)">ObjectDB</A></CODE></B></DD>
<DD>Cause the objects prepared in transaction [tid] to be committed. The
 changes will hereafter be visible to read.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#commit(long, fabric.worker.remote.RemoteWorker, NodePrincipal, fabric.store.SubscriptionManager)">commit</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tid</CODE> - the transaction id<DD><CODE>workerNode</CODE> - the remote worker that is performing the commit<DD><CODE>workerPrincipal</CODE> - the principal requesting the commit</DL>
</DD>
</DL>
<HR>

<A NAME="rollback(long, NodePrincipal)"><!-- --></A><H3>
rollback</H3>
<PRE>
public void <B>rollback</B>(long&nbsp;tid,
                     NodePrincipal&nbsp;worker)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#rollback(long, NodePrincipal)">ObjectDB</A></CODE></B></DD>
<DD>Cause the objects prepared in transaction [tid] to be discarded.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#rollback(long, NodePrincipal)">rollback</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tid</CODE> - the transaction id<DD><CODE>worker</CODE> - the principal requesting the rollback</DL>
</DD>
</DL>
<HR>

<A NAME="read(long)"><!-- --></A><H3>
read</H3>
<PRE>
public <A HREF="../../../fabric/common/SerializedObject.html" title="class in fabric.common">SerializedObject</A> <B>read</B>(long&nbsp;onum)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#read(long)">ObjectDB</A></CODE></B></DD>
<DD>Return the object stored at a particular onum.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#read(long)">read</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>onum</CODE> - the identifier
<DT><B>Returns:</B><DD>the object or null if no object exists at the given onum</DL>
</DD>
</DL>
<HR>

<A NAME="getVersion(long)"><!-- --></A><H3>
getVersion</H3>
<PRE>
public int <B>getVersion</B>(long&nbsp;onum)
               throws <A HREF="../../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#getVersion(long)">ObjectDB</A></CODE></B></DD>
<DD>Returns the version number on the object stored at a particular onum.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#getVersion(long)">getVersion</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../fabric/common/exceptions/AccessException.html" title="class in fabric.common.exceptions">AccessException</A></CODE> - if no object exists at the given onum.</DL>
</DD>
</DL>
<HR>

<A NAME="exists(long)"><!-- --></A><H3>
exists</H3>
<PRE>
public boolean <B>exists</B>(long&nbsp;onum)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#exists(long)">ObjectDB</A></CODE></B></DD>
<DD>Checks whether an object with the corresponding onum exists, in either
 prepared or committed form.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#exists(long)">exists</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>onum</CODE> - the onum of to check
<DT><B>Returns:</B><DD>true if an object exists for onum</DL>
</DD>
</DL>
<HR>

<A NAME="newOnums(int)"><!-- --></A><H3>
newOnums</H3>
<PRE>
public long[] <B>newOnums</B>(int&nbsp;num)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#newOnums(int)">ObjectDB</A></CODE></B></DD>
<DD><p>
 Return a set of onums that aren't currently occupied. The ObjectDB may
 return the same onum more than once from this method, althogh doing so
 would encourage collisions. There is no assumption of unpredictability or
 randomness about the returned ids.
 </p>
 <p>
 The returned onums should be packed in the lower 48 bits. We assume that
 the object database is never full, and can always provide new onums
 </p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#newOnums(int)">newOnums</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>num</CODE> - the number of onums to return
<DT><B>Returns:</B><DD>num fresh onums</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD>Clean up and close database.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#close()">close</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isInitialized()"><!-- --></A><H3>
isInitialized</H3>
<PRE>
public boolean <B>isInitialized</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#isInitialized()">ObjectDB</A></CODE></B></DD>
<DD>Determines whether the object database has been initialized.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#isInitialized()">isInitialized</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setInitialized()"><!-- --></A><H3>
setInitialized</H3>
<PRE>
public void <B>setInitialized</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../fabric/store/db/ObjectDB.html#setInitialized()">ObjectDB</A></CODE></B></DD>
<DD>Sets a flag to indicate that the object database has been initialized.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../fabric/store/db/ObjectDB.html#setInitialized()">setInitialized</A></CODE> in class <CODE><A HREF="../../../fabric/store/db/ObjectDB.html" title="class in fabric.store.db">ObjectDB</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../fabric/store/db/GroupContainer.html" title="class in fabric.store.db"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?fabric/store/db/BdbDB.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BdbDB.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_fabric.store.db.ObjectDB">NESTED</A>&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_fabric.store.db.ObjectDB">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
